(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{137:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(42),c=a.n(s),u=(a(50),a(51),a(1)),o=a.n(u),i=a(4),l=a(6),m=a(7),d=a(9),p=a(8),h=a(21),f=a.n(h),v=function(){function e(){Object(l.a)(this,e)}return Object(m.a)(e,[{key:"api",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s="http://localhost:5000/api",c=s+e,u={method:t,headers:{"Content-Type":"application/json; charset=utf-8"}};if(null!==a&&(u.body=JSON.stringify(a)),r){var o=btoa("".concat(n.username,":").concat(n.password));u.headers.Authorization="Basic ".concat(o)}return fetch(c,u)}},{key:"getUser",value:function(){var e=Object(i.a)(o.a.mark((function e(t,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api("/users","GET",null,!0,{username:t,password:a});case 2:if(r=e.sent,console.log(r.status),200!==r.status){e.next=8;break}return e.abrupt("return",r.json().then((function(e){return e})));case 8:if(401!==r.status){e.next=12;break}return e.abrupt("return",null);case 12:throw new Error;case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api("/users","POST",t);case 2:if(a=e.sent,console.log(a.status),201!==a.status){e.next=8;break}return e.abrupt("return",[]);case 8:if(400!==a.status){e.next=12;break}return e.abrupt("return",a.json().then((function(e){return e.errors})));case 12:throw new Error;case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCourses",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api("/courses","GET");case 2:return t=e.sent,console.log(t.status),t.status,e.abrupt("return",t.json().then((function(e){return{status:t.status,data:e}})));case 8:throw new Error;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCourse",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api("/courses/".concat(t),"GET");case 2:if(a=e.sent,console.log(a.status),200!==a.status&&404!==a.status){e.next=8;break}return e.abrupt("return",a.json().then((function(e){return{status:a.status,data:e}})));case 8:throw new Error;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createCourse",value:function(){var e=Object(i.a)(o.a.mark((function e(t,a,r){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api("/courses","POST",t,!0,{username:a,password:r});case 2:if(n=e.sent,console.log(n.status),201!==n.status){e.next=8;break}return e.abrupt("return",{status:n.status,location:n.headers.get("Location")});case 8:if(400!==n.status){e.next=12;break}return e.abrupt("return",n.json().then((function(e){return{status:n.status,message:e.message}})));case 12:if(401!==n.status){e.next=16;break}return e.abrupt("return",{status:n.status});case 16:throw new Error;case 17:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"updateCourse",value:function(){var e=Object(i.a)(o.a.mark((function e(t,a,r,n){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api("/courses/".concat(t),"PUT",a,!0,{username:r,password:n});case 2:if(s=e.sent,console.log(s.status),204!==s.status){e.next=8;break}return e.abrupt("return",{status:s.status,location:s.headers.get("Location")});case 8:if(400!==s.status){e.next=12;break}return e.abrupt("return",s.json().then((function(e){return{status:s.status,errors:e.errors}})));case 12:if(401!==s.status&&403!==s.status&&404!==s.status){e.next=16;break}return e.abrupt("return",{status:s.status});case 16:throw new Error;case 17:case"end":return e.stop()}}),e,this)})));return function(t,a,r,n){return e.apply(this,arguments)}}()},{key:"deleteCourse",value:function(){var e=Object(i.a)(o.a.mark((function e(t,a,r){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api("/courses/".concat(t),"DELETE",null,!0,{username:a,password:r});case 2:if(n=e.sent,console.log(n.status),204!==n.status){e.next=8;break}return e.abrupt("return",{status:n.status});case 8:if(403!==n.status&&404!==n.status){e.next=12;break}return e.abrupt("return",n.json().then((function(e){return{status:n.status,message:e.message}})));case 12:throw new Error;case 13:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()}]),e}();v.url="/api";var E=n.a.createContext(),g=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={authenticatedUser:f.a.getJSON("authenticatedUser")||null},e.signIn=function(){var t=Object(i.a)(o.a.mark((function t(a,r){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchAPI.getUser(a,r);case 2:return null!==(n=t.sent)&&(n.password=r,e.setState((function(){return{authenticatedUser:n}})),f.a.set("authenticatedUser",JSON.stringify(n),{expires:1})),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.signOut=function(){e.setState((function(){return{authenticatedUser:null}})),f.a.remove("authenticatedUser")},e.fetchAPI=new v,e}return Object(m.a)(a,[{key:"render",value:function(){var e={authenticatedUser:this.state.authenticatedUser,fetchAPI:this.fetchAPI,actions:{signIn:this.signIn,signOut:this.signOut}};return n.a.createElement(E.Provider,{value:e},this.props.children)}}]),a}(r.Component),b=E.Consumer;function N(e){return function(t){return n.a.createElement(E.Consumer,null,(function(a){return n.a.createElement(e,Object.assign({},t,{context:a}))}))}}var y=a(3),w=a(2),C=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={courses:null,message:""},e.getCourses=Object(i.a)(o.a.mark((function t(){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.context.fetchAPI,t.next=3,a.getCourses();case 3:200===(r=t.sent).status?e.setState({courses:r.data}):404===r.status?e.setState({message:r.data.message}):e.setState({message:"Courses were not found"});case 5:case"end":return t.stop()}}),t)}))),e.renderCourses=function(){var t=[],a=e.state,r=a.courses,s=a.message;if(s.length>0)t.push(n.a.createElement("h1",{key:1},s));else if(null!==r)for(var c=0;c<r.length;c++)t.push(n.a.createElement("div",{key:r[c].id,className:"grid-33"},n.a.createElement(y.b,{className:"course--module course--link",to:"/courses/".concat(r[c].id)},n.a.createElement("h4",{className:"course--label"},"Course"),n.a.createElement("h3",{className:"course--title"},r[c].title))));else t.push(n.a.createElement("h1",{key:1},"Loading..."));return t},e}return Object(m.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"bounds"},this.renderCourses(),n.a.createElement("div",{className:"grid-33"},n.a.createElement(y.b,{className:"course--module course--add--module",to:"/courses/create"},n.a.createElement("h3",{className:"course--add--title"},n.a.createElement("svg",{viewBox:"0 0 13 13",className:"add"},n.a.createElement("polygon",{points:"7,6 7,0 6,0 6,6 0,6 0,7 6,7 6,13 7,13 7,7 13,7 13,6 "})),"New Course"))))}},{key:"componentDidMount",value:function(){this.getCourses()}}]),a}(r.Component),x=a(31),k=a.n(x),O=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={course:null,deleteRequested:!1},e.getCourse=Object(i.a)(o.a.mark((function t(){var a,r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.context.fetchAPI,r=e.props.match.params.id,t.next=4,a.getCourse(r);case 4:200===(n=t.sent).status?e.setState({course:n.data}):404===n.status?e.props.history.push("/notfound"):e.props.history.push("/error");case 6:case"end":return t.stop()}}),t)}))),e.handleDelete=Object(i.a)(o.a.mark((function t(){var a,r,n,s,c,u,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.context,r=a.fetchAPI,n=a.authenticatedUser,s=e.props.match.params.id,c=n.emailAddress,u=n.password,t.next=5,r.deleteCourse(s,c,u);case 5:204===(i=t.sent).status?e.props.history.push("/"):403===i.status?e.props.history.push("/forbidden"):404===i.status?e.props.history.push("/notfound"):e.props.history.push("/error");case 7:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"actions--bar"},this.renderButtons()),n.a.createElement("div",{className:"bounds course--detail"},this.renderCourse()))}},{key:"componentDidMount",value:function(){this.getCourse()}},{key:"renderCourse",value:function(){var e=[],t=this.state.course;return null!==t?e.push(n.a.createElement("div",{key:1,className:"grid-66"},n.a.createElement("div",{className:"course--header"},n.a.createElement("h4",{className:"course--label"},"Course"),n.a.createElement("h3",{className:"course--title"},t.title),n.a.createElement("p",null,"By ".concat(t.user.firstName," ").concat(t.user.lastName))),n.a.createElement("div",{className:"course--description"},n.a.createElement(k.a,{source:t.description})),n.a.createElement("div",{className:"grid-25 grid-right"}),n.a.createElement("div",{className:"course--stats"},n.a.createElement("ul",{className:"course--stats--list"},n.a.createElement("li",{className:"course--stats--list--item"},t.estimatedTime?n.a.createElement(n.a.Fragment,null,n.a.createElement("h4",null,"Estimated Time"),n.a.createElement("h3",null,t.estimatedTime)):null),n.a.createElement("li",{className:"course--stats--list--item"},t.materialsNeeded?n.a.createElement(n.a.Fragment,null,n.a.createElement("h4",null,"Materials Needed"),n.a.createElement(k.a,{source:t.materialsNeeded})):null))))):e.push(n.a.createElement("h1",{key:1},"Loading...")),e}},{key:"renderButtons",value:function(){var e=this,t=this.state.course,a=this.props.context.authenticatedUser,r=this.state.deleteRequested,s=!1;return null!==a&&null!==this.state.course&&this.state.course.user.id===a.id&&(s=!0),null!==t?n.a.createElement("span",null,n.a.createElement("div",{className:"bounds"},n.a.createElement("div",{className:"grid-100"},s?n.a.createElement("span",null,n.a.createElement(y.b,{className:"button",to:"".concat(t.id,"/update")},"Update Course"),n.a.createElement("button",{className:"button",onClick:function(){return e.showDeleteConfirm()}},"Delete Course")):null,n.a.createElement(y.b,{className:"button button-secondary",to:"/"},"Return to List"))),r?n.a.createElement("div",{className:"bounds"},n.a.createElement("div",{className:"grid-100",style:{margin:"10px"}},n.a.createElement("button",{className:"button",onClick:function(){return e.handleDelete()}},"Confirm delete"),n.a.createElement("button",{className:"button button-secondary",onClick:function(){return e.hideDeleteConfirm()}},"No, cancel"))):null):null}},{key:"showDeleteConfirm",value:function(){this.setState({deleteRequested:!0})}},{key:"hideDeleteConfirm",value:function(){this.setState({deleteRequested:!1})}}]),a}(r.Component),j=a(14),S=function(e){var t=e.cancel,a=e.errors,r=e.submit,s=e.submitButtonText,c=e.elements;return n.a.createElement("div",null,n.a.createElement(u,{errors:a}),n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),r()}},c(),n.a.createElement("div",{className:"grid=100 pad-bottom"},n.a.createElement("button",{className:"button",type:"submit"},s),n.a.createElement("button",{className:"button button-secondary",onClick:function(e){e.preventDefault(),t()}},"Cancel"))));function u(e){var t=e.errors,a=null;return t.length&&(a=n.a.createElement("div",null,n.a.createElement("h2",{className:"validation--errors--label"},"Validation errors"),n.a.createElement("div",{className:"validation-errors"},n.a.createElement("ul",null,t.map((function(e,t){return n.a.createElement("li",{key:t},"".concat(t+1,".) ").concat(e))})))))),a}},T=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={title:"",description:"",estimatedTime:"",materialsNeeded:"",errors:[]},e.change=function(t){var a=t.target,r=a.name,n=a.value;e.setState((function(){return Object(j.a)({},r,n)}))},e.submit=Object(i.a)(o.a.mark((function t(){var a,r,n,s,c,u,i,l,m,d,p,h;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.context,r=a.fetchAPI,n=a.authenticatedUser,s=n.emailAddress,c=n.password,u=e.state,i=u.title,l=u.description,m=u.estimatedTime,d=u.materialsNeeded,p={title:i,description:l.replace(/\n/g,"  \n"),estimatedTime:m.includes("hour")?m:m.includes("one",0)||1===m.length&&m.includes("1",0)?m+" hour":m+" hours",materialsNeeded:d.replace(/\n/g,"  \n")},t.next=6,r.createCourse(p,s,c);case 6:201===(h=t.sent).status?e.props.history.push("/courses".concat(h.location)):400===h.status?e.setState({errors:h.message}):401===h.status?e.props.history.push("/forbidden"):e.props.history.push("/error");case 8:case"end":return t.stop()}}),t)}))),e.cancel=function(){e.props.history.push("/")},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state.errors;return n.a.createElement("div",{className:"bounds course--detail"},n.a.createElement("h1",null,"Create Course"),n.a.createElement("div",null,n.a.createElement(S,{cancel:this.cancel,errors:t,submit:this.submit,submitButtonText:"Create Course",elements:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"grid-66"},e.renderFormTitle(),e.renderFormDescription()),n.a.createElement("div",{className:"grid-25 grid-right"},n.a.createElement("div",{className:"course--stats"},n.a.createElement("ul",{className:"course--stats--list"},e.renderFormEstimatedTime(),e.renderFormMaterialsNeeded()))))}})))}},{key:"renderFormTitle",value:function(){var e=this.state.title;return n.a.createElement("div",{className:"course--header"},n.a.createElement("h4",{className:"course==label"},"Course"),n.a.createElement("div",null,n.a.createElement("input",{className:"input-title course--title--input",id:"title",name:"title",type:"text",value:e,onChange:this.change,placeholder:"Course title..."})),n.a.createElement("p",null,"By Joes Smith"))}},{key:"renderFormDescription",value:function(){var e=this.state.description;return n.a.createElement("div",{className:"course--description"},n.a.createElement("textarea",{id:"description",name:"description",className:"",value:e,onChange:this.change,placeholder:"Course description..."}))}},{key:"renderFormEstimatedTime",value:function(){var e=this.state.estimatedTime;return n.a.createElement("li",{className:"course--stats--list--item"},n.a.createElement("h4",null,"Estimated Time"),n.a.createElement("div",null,n.a.createElement("input",{id:"estimatedTime",name:"estimatedTime",type:"text",className:"course--time--input",value:e,onChange:this.change,placeholder:"Hours"})))}},{key:"renderFormMaterialsNeeded",value:function(){var e=this.state.materialsNeeded;return n.a.createElement("li",{className:"course--stats--list--item"},n.a.createElement("h4",null,"Materials Needed"),n.a.createElement("div",null,n.a.createElement("textarea",{id:"materialsNeeded",name:"materialsNeeded",className:"",value:e,onChange:this.change,placeholder:"List materials..."})))}}]),a}(r.Component),A=a(32),F=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={status:null,id:null,message:"",title:"",description:"",estimatedTime:"",materialsNeeded:"",user:null,errors:[]},e.getCourse=Object(i.a)(o.a.mark((function t(){var a,r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.context.fetchAPI,r=e.props.match.params.id,t.next=4,a.getCourse(r);case 4:200===(n=t.sent).status?e.setState(Object(A.a)(Object(A.a)({},n.data),{},{status:n.status})):404===n.status?e.props.history.push("/notfound"):e.props.history.push("/error");case 6:case"end":return t.stop()}}),t)}))),e.checkUser=function(){var t,a=e.props.context.authenticatedUser.id;null!==e.state.user&&(t=e.state.user.id),t>0&&t!==a&&e.props.history.push("/forbidden")},e.change=function(t){var a=t.target,r=a.name,n=a.value;e.setState((function(){return Object(j.a)({},r,n)}))},e.submit=Object(i.a)(o.a.mark((function t(){var a,r,n,s,c,u,i,l,m,d,p,h,f;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.context,r=a.fetchAPI,n=a.authenticatedUser,s=e.props.match.params.id,c=n.emailAddress,u=n.password,i=e.state,l=i.title,m=i.description,d=i.estimatedTime,p=i.materialsNeeded,h={title:l,description:m.replace(/\n/g,"  \n"),estimatedTime:d.includes("hour")?d:d.includes("one",0)||1===d.length&&d.includes("1",0)?d+" hour":d+" hours",materialsNeeded:p.replace(/\n/g,"  \n")},t.next=7,r.updateCourse(s,h,c,u);case 7:204===(f=t.sent).status?e.props.history.push("/courses".concat(f.location)):400===f.status?e.setState({errors:f.errors}):401===f.status||403===f.status?e.props.history.push("/forbidden"):404===f.status?e.props.history.push("/notfound"):e.props.history.push("/error");case 9:case"end":return t.stop()}}),t)}))),e.cancel=function(){e.props.history.push("/")},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state.errors,a=this.state.status;return this.checkUser(),n.a.createElement("div",{className:"bounds course--detail"},n.a.createElement("h1",null,"Update Course"),a?n.a.createElement(S,{cancel:this.cancel,errors:t,submit:this.submit,submitButtonText:"Update Course",elements:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"grid-66"},e.renderFormTitle(),e.renderFormDescription()),n.a.createElement("div",{className:"grid-25 grid-right"},n.a.createElement("div",{className:"course--stats"},n.a.createElement("ul",{className:"course--stats--list"},e.renderFormEstimatedTime(),e.renderFormMaterialsNeeded()))))}}):n.a.createElement("div",{className:"bounds"},n.a.createElement("h1",null,"Loading...")))}},{key:"componentDidMount",value:function(){this.getCourse()}},{key:"renderFormTitle",value:function(){var e=this.state.title;return n.a.createElement("div",{key:1,className:"course--header"},n.a.createElement("h4",{className:"course==label"},"Course"),n.a.createElement("div",null,n.a.createElement("input",{className:"input-title course--title--input",id:"title",name:"title",type:"text",value:e,onChange:this.change,placeholder:e})),n.a.createElement("p",null,"By Joes Smith"))}},{key:"renderFormDescription",value:function(){var e=this.state.description;return n.a.createElement("div",{className:"course--description"},n.a.createElement("textarea",{id:"description",name:"description",className:"",value:e,onChange:this.change,placeholder:"Course description..."}))}},{key:"renderFormEstimatedTime",value:function(){var e=this.state.estimatedTime;return n.a.createElement("li",{className:"course--stats--list--item"},n.a.createElement("h4",null,"Estimated Time"),n.a.createElement("div",null,n.a.createElement("input",{id:"estimatedTime",name:"estimatedTime",type:"text",className:"course--time--input",value:e,onChange:this.change,placeholder:"Hours"})))}},{key:"renderFormMaterialsNeeded",value:function(){var e=this.state.materialsNeeded;return n.a.createElement("li",{className:"course--stats--list--item"},n.a.createElement("h4",null,"Materials Needed"),n.a.createElement("div",null,n.a.createElement("textarea",{id:"materialsNeeded",name:"materialsNeeded",className:"",value:e,onChange:this.change,placeholder:"List materials..."})))}}]),a}(r.Component),U=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={emailAddress:"",password:"",errors:[]},e.change=function(t){var a=t.target,r=a.name,n=a.value;e.setState((function(){return Object(j.a)({},r,n)}))},e.submit=function(){var t=e.props.context,a=(e.props.location.state||{from:{pathname:"/"}}).from,r=e.state,n=r.emailAddress,s=r.password;t.actions.signIn(n,s).then((function(t){null===t?e.setState((function(){return{errors:["Sign-in was unsuccessful"],password:""}})):(e.props.history.push(a),console.log("SUCCESS! ".concat(n," is now signed in!")))})).catch((function(t){e.props.history.push("/error")}))},e.cancel=function(){e.props.history.push("/")},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.emailAddress,r=t.password,s=t.errors;return n.a.createElement("div",{className:"bounds"},n.a.createElement("div",{className:"grid-33 centered signin"},n.a.createElement("h1",null,"Sign In"),n.a.createElement(S,{cancel:this.cancel,submit:this.submit,errors:s,submitButtonText:"Sign in",elements:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{id:"emailAddress",name:"emailAddress",type:"text",value:a,onChange:e.change,placeholder:"Email Address"}),n.a.createElement("input",{id:"password",name:"password",type:"password",value:r,onChange:e.change,placeholder:"password"}))}}),n.a.createElement("p",null,"Don't have a user account?",n.a.createElement("a",{href:"/signup"}," Click here "),"to sign up!")))}}]),a}(r.Component),P=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={firstName:"",lastName:"",emailAddress:"",password:"",confirmPassword:"",errors:[]},e.change=function(t){var a=t.target,r=a.name,n=a.value;e.setState((function(){return Object(j.a)({},r,n)}))},e.submit=function(){var t=e.props.context,a=e.state,r=a.firstName,n=a.lastName,s=a.emailAddress,c=a.password,u=a.confirmPassword,o={firstName:r,lastName:n,emailAddress:s,password:c};if(c!==u){var i=[];i=i.concat("Password confirmation was incorrect. Please try again."),console.log(i),e.setState({errors:i})}else t.fetchAPI.createUser(o).then((function(a){a.length?e.setState({errors:a}):(t.actions.signIn(s,c).then((function(){e.props.history.push("/")})),console.log("".concat(s," is successfully signed up and authenticated!")))})).catch((function(t){console.log(t),e.props.history.push("/error")}))},e.cancel=function(){e.props.history.push("/")},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.firstName,r=t.lastName,s=t.emailAddress,c=t.password,u=t.confirmPassword,o=t.errors;return n.a.createElement("div",{className:"bounds"},n.a.createElement("div",{className:"grid-33 centered signin"},n.a.createElement("h1",null,"Sign Up"),n.a.createElement(S,{cancel:this.cancel,submit:this.submit,errors:o,submitButtonText:"Sign Up",elements:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{id:"firstName",name:"firstName",type:"text",value:a,onChange:e.change,placeholder:"First Name"}),n.a.createElement("input",{id:"lastName",name:"lastName",type:"text",value:r,onChange:e.change,placeholder:"Last Name"}),n.a.createElement("input",{id:"emailAddress",name:"emailAddress",type:"text",value:s,onChange:e.change,placeholder:"Email Address"}),n.a.createElement("input",{id:"password",name:"password",type:"password",value:c,onChange:e.change,placeholder:"Password"}),n.a.createElement("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:u,onChange:e.change,placeholder:"Confirm Password"}))}}),n.a.createElement("p",null,"Already have a user account?",n.a.createElement("a",{href:"/signin"}," Click here "),"to sign in!")))}}]),a}(r.Component),I=function(e){return e.context.actions.signOut(),n.a.createElement(w.a,{to:"/"})},D=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"bounds"},n.a.createElement("h1",null,"Error"),n.a.createElement("p",null,"Sorry! We just encountered an unexpected error.")),n.a.createElement("div",{className:"bounds grid=100"},n.a.createElement(y.b,{className:"button button-secondary",to:"/"},"Return to List")))},B=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"bounds"},n.a.createElement("h1",null,"Not Found"),n.a.createElement("p",null,"Sorry! We couldn't find the page you're looking for.")),n.a.createElement("div",{className:"bounds grid=100"},n.a.createElement(y.b,{className:"button button-secondary",to:"/"},"Return to List")))},L=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"bounds"},n.a.createElement("h1",null,"Forbidden"),n.a.createElement("p",null,"Oh oh! You can't access this page.")),n.a.createElement("div",{className:"bounds grid=100"},n.a.createElement(y.b,{className:"button button-secondary",to:"/"},"Return to List")))},M=a(44),R=function(e){var t=e.component,a=Object(M.a)(e,["component"]);return n.a.createElement(b,null,(function(e){return n.a.createElement(w.b,Object.assign({},a,{render:function(a){return e.authenticatedUser?n.a.createElement(t,a):n.a.createElement(w.a,{to:{pathname:"/signin",state:{from:a.location}}})}}))}))},J=N((function(e){var t=e.context.authenticatedUser;return n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"bounds"},n.a.createElement("a",{className:"header--logo",href:"/"},"Courses"),n.a.createElement("nav",null,t?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"Welcome, ",t.firstName," ",t.lastName,"!"),n.a.createElement(y.b,{to:"/signout"},"Sign Out")):n.a.createElement(n.a.Fragment,null,n.a.createElement(y.b,{className:"signup",to:"/signup"},"Sign Up"),n.a.createElement(y.b,{className:"signin",to:"/signin"},"Sign In")))))})),q=function(){return n.a.createElement(y.a,null,n.a.createElement("div",null,n.a.createElement(J,null),n.a.createElement(w.d,null,n.a.createElement(w.b,{exact:!0,path:"/",component:N(C)}),n.a.createElement(w.b,{path:"/signin",component:N(U)}),n.a.createElement(w.b,{path:"/signup",component:N(P)}),n.a.createElement(w.b,{path:"/signout",component:N(I)}),n.a.createElement(R,{path:"/courses/create",component:N(T)}),n.a.createElement(R,{path:"/courses/:id/update",component:N(F)}),n.a.createElement(w.b,{exact:!0,path:"/courses/:id",component:N(O)}),n.a.createElement(w.b,{path:"/error",component:D}),n.a.createElement(w.b,{path:"/forbidden",component:L}),n.a.createElement(w.b,{path:"/notfound",component:B}),n.a.createElement(w.b,{component:B}))))};c.a.render(n.a.createElement(g,null,n.a.createElement(q,null)),document.getElementById("root"))},45:function(e,t,a){e.exports=a(137)},50:function(e,t,a){},51:function(e,t,a){}},[[45,1,2]]]);
//# sourceMappingURL=main.723f77b8.chunk.js.map